<!DOCTYPE html>
<html lang="fr" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
    <!--<meta charset="UTF-8">-->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>Users Management</title>
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.1/css/bootstrap.min.css} "/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
</head>
<body>
    <div th:insert="navbar :: navbar"></div>

    <h1 class="mt-3 text-center" th:text="#{label.users.management}"></h1>
    <br />
    <div class="mx-2 text-end">
        <a th:href="@{/users/add}">
            <button class="btn btn-sm btn-primary" th:text="#{label.add}">Add User</button>
        </a>
    </div>
    <div>
        <table class="table table-striped table-hover">
            <thead class="thead-dark">
                <tr>
                    <th th:text="#{label.firstname}"></th>
                    <th th:text="#{label.lastname}">Last Name</th>
                    <th th:text="#{label.birthdate}">Birth Date</th>
                    <th th:text="#{label.gender}">Gender</th>
                    <th></th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr th:each = "user : ${paginatedUsers.content}">
                    <td th:utext="${user.firstName}">...</td>
                    <td th:utext="${user.lastName}">...</td>
                    <td th:utext="${user.birthDate}">...</td>
                    <td th:utext="${user.gender}">...</td>
                    <td>
                        <a th:href="@{/users/{id}(id=${user.id})}">
                            <button class="btn btn-sm btn-outline-success" th:text="#{label.edit}">Edit</button>
                        </a>
                    </td>
                    <td>
                        <a th:href="@{/users/del/{id}(id=${user.id})}"
                           th:attr="onclick=|return confirm('#{label.confirm}')|"
                        >
                            <button class="btn btn-sm btn-outline-danger" th:text="#{label.delete}">Delete</button>
                        </a>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="6" class="text-end">
                        <ul class="page-list" th:each="i: ${#numbers.sequence(1, paginatedUsers.totalPages)}">
                            <li>
                                <a th:href="@{/users/all?pageNumber={pn}&pageSize={ps}(pn=${i-1}, ps=${paginatedUsers.size})}" th:utext="${i}">...</a>
                            </li>
                        </ul>
                    </td>
                </tr>
            </tfoot>
        </table>
    </div>
</body>
</html>